# Complyo Domain Routing Configuration
# ====================================

# Default upstream definitions
upstream backend {
    server complyo-backend:8002;
}

upstream dashboard {
    server complyo-dashboard:3000;
}

upstream landing {
    server complyo-landing:3000;
}

upstream admin {
    server complyo-admin:3000;
}

# CORS Headers f√ºr alle Domains
add_header Access-Control-Allow-Origin "https://app.complyo.tech" always;
add_header Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS" always;
add_header Access-Control-Allow-Headers "Authorization, Content-Type, Accept" always;
add_header Access-Control-Allow-Credentials "true" always;

# Security Headers
add_header X-Frame-Options "SAMEORIGIN" always;
add_header X-Content-Type-Options "nosniff" always;
add_header X-XSS-Protection "1; mode=block" always;
add_header Referrer-Policy "strict-origin-when-cross-origin" always;

# Gzip Compression
gzip on;
gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;

